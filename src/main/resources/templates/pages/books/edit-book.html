<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/base}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Book</title>
</head>
<body>
    <main layout:fragment="content">
        <h2>Form Edit Book</h2>
        <p class="text-danger" th:text="${message}"></p>
        
            <form th:object="${book}" th:action="@{/books/edit/{id}(id=${book.id})}" method="post" class="container">

        <div class="row">
            
                <!-- Kolom Kiri -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label" for="title">Title</label>
                        <input 
                            class="form-control" 
                            type="text" 
                            name="title" 
                            id="title" 
                            th:field="*{title}"
                            th:classappend="${#fields.hasErrors('title')} ? ' is-invalid'">
                        <div class="form-text text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
                    </div>
        
                    <div class="mb-3">
                        <label class="form-label" for="isbn">ISBN Number</label>
                        <input 
                            class="form-control" 
                            type="text"
                            name="isbn"
                            id="isbn"
                            th:field="*{isbn}"
                            th:classappend="${#fields.hasErrors('isbn')} ? ' is-invalid'">
                        <div class="form-text text-danger" th:if="${#fields.hasErrors('isbn')}" th:errors="*{isbn}"></div>
                    </div>
        
                    <div class="mb-3">
                        <label class="form-label" for="year">Year Release</label>
                        <input 
                            class="form-control" 
                            type="text"
                            name="year"
                            id="year"
                            th:field="*{year}"
                            th:classappend="${#fields.hasErrors('year')} ? ' is-invalid'">
                        <div class="form-text text-danger" th:if="${#fields.hasErrors('year')}" th:errors="*{year}"></div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label" for="stock">Stock</label>
                        <input 
                            class="form-control"
                            type="number"
                            name="stock"
                            id="stock"
                            th:field="*{stock}"
                            th:classappend="${#fields.hasErrors('stock')} ? ' is-invalid'">
                        <div class="form-text text-danger" th:if="${#fields.hasErrors('stock')}" th:errors="*{stock}"></div>
                    </div>
        
                    <div class="mb-3">
                        <label class="form-label" for="price">Price</label>
                        <input 
                            class="form-control" 
                            type="number" 
                            name="price" 
                            id="price"  
                            th:field="*{price}"
                            th:classappend="${#fields.hasErrors('price')} ? ' is-invalid'">
                        <div class="form-text text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
                    </div>
                </div>
        
                <!-- Kolom Kanan -->
                <div class="col-md-6">
                    <div class="mb-3">
                        <label class="form-label" for="categoryId">Category</label>
                        <select 
                            name="categoryId" 
                            class="form-select"
                            th:field="*{categoryId}"
                            th:classappend="${#fields.hasErrors('categoryId')} ? ' is-invalid'">
                            <option value="" selected>Pilih Kategori</option>
                            <option 
                                th:each="category : ${categories}" 
                                th:text="${category.name}" 
                                th:value="${category.id}"
                            ></option>                                
                        </select>
                        <div class="form-text text-danger" th:if="${#fields.hasErrors('categoryId')}" th:errors="*{categoryId}"></div>
                    </div>
        
                    <div class="mb-3">
                        <label class="form-label" for="description">Description</label>
                        <textarea 
                            th:field="*{description}"
                            class="form-control" 
                            name="description" 
                            id="description"
                            th:classappend="${#fields.hasErrors('description')} ? ' is-invalid'"
                            ></textarea>
                        <div class="form-text text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
                    </div>
                </div>
            </div>

            <!-- Elemen Tambahan di Bawah -->
        
            <div class="mb-3">
                <button class="btn btn-primary" type="submit">Add New Book</button>
            </div>
            </form>
    </main>
    
</body>
</html>


